function Controller(){function e(t){if(!t||!t.fromAdapter){e.opts||{};for(var i=n.models,l=i.length,a=[],s=0;l>s;s++){var d=i[s];d.__transform={};var _=Alloy.createController("filterRowItem",{$model:d,__parentSymbol:o});a.push(_.getViewEx({recurse:!0}))}r.__views.tableView.setData(a)}}function t(e){var t=Alloy.createController("editFilter",e).getView();Alloy.Globals.navgroup.open(t)}function i(){var e=Alloy.createController("newFilter").getView();Alloy.Globals.navgroup.open(e)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="filters";var o=arguments[0]?arguments[0].__parentSymbol:null;arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var r=this,l={},a={};r.__views.filters=Ti.UI.createView({id:"filters",bottom:"45"}),r.__views.filters&&r.addTopLevelView(r.__views.filters),r.__views.tableView=Ti.UI.createTableView({id:"tableView",bottom:"50",separatorColor:"#fff"}),r.__views.filters.add(r.__views.tableView);var n=Alloy.Collections.filters||s;n.on("fetch destroy change add remove reset",e),r.__views.__alloyId32=Ti.UI.createView({height:"50",bottom:"0",backgroundColor:"#E7E7E7",left:"0",right:"0",id:"__alloyId32"}),r.__views.filters.add(r.__views.__alloyId32),r.__views.next=Ti.UI.createButton({color:"#fff",font:{fontSize:"15",fontFamily:"Helvetica Neue"},borderRadius:"5",backgroundImage:"none",backgroundSelectedImage:"none",height:"40",top:"5",id:"next",backgroundColor:"#30D1F4",backgroundSelectedColor:"#000",title:"Create New Filter",width:"150"}),r.__views.__alloyId32.add(r.__views.next),i?r.__views.next.addEventListener("click",i):a["$.__views.next!click!newFilter"]=!0,l.destroy=function(){n.off("fetch destroy change add remove reset",e)},_.extend(r,r.__views);var s=Alloy.Collections.filters;s.fetch(),r.tableView.addEventListener("click",function(e){switch(e.source.id){case"filterEdit":Ti.API.info("edit filter -"+e.row.model.filterName),t(e.row.model);break;case"filterLabel":case"row":Ti.API.info("label or row clicked-"+e.source.id),Alloy.Globals.activeFilterRow.setBackgroundColor(Alloy.Globals.normalFilterRowColor),e.row.setBackgroundColor(Alloy.Globals.activeFilterRowColor),Alloy.Globals.activeFilterRow=e.row,Alloy.Globals.setSelectedFilter(e.row.model.id)}}),a["$.__views.next!click!newFilter"]&&r.__views.next.addEventListener("click",i),_.extend(r,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;