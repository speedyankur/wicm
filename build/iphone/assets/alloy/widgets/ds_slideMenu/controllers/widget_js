function WPATH(e){var t=e.lastIndexOf("/"),i=-1===t?"ds.slideMenu/"+e:e.substring(0,t)+"/ds.slideMenu/"+e.substring(t+1);return i}function Controller(){function e(){t.movableview.width=t.navview.width=t.contentview.width="100%",t.movableview.height=t.navview.height=t.contentview.height="100%"}new(require("alloy/widget"))("ds.slideMenu"),this.__widgetId="ds.slideMenu",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var t=this,i={};t.__views.containerview=Ti.UI.createView({id:"containerview"}),t.__views.containerview&&t.addTopLevelView(t.__views.containerview),t.__views.leftMenu=Ti.UI.createView({top:"0dp",left:"0dp",width:"250dp",zIndex:"2",backgroundColor:"#FFF",layout:"vertical",id:"leftMenu"}),t.__views.containerview.add(t.__views.leftMenu),t.__views.menuHeader=Ti.UI.createView({height:"44dp",backgroundColor:"#E9E9E9",backgroundGradient:{type:"linear",startPoint:{x:"0%",y:"0%"},endPoint:{x:"0%",y:"100%"},colors:[{color:"#FCFCFC",offset:"0.0"},{color:"#E9E9E9",offset:"1.0"}]},id:"menuHeader"}),t.__views.leftMenu.add(t.__views.menuHeader),t.__views.menuHeaderLabel=Ti.UI.createLabel({text:"Menu",id:"menuHeaderLabel"}),t.__views.menuHeader.add(t.__views.menuHeaderLabel),t.__views.leftTableView=Ti.UI.createTableView({separatorColor:"#FFF",id:"leftTableView"}),t.__views.leftMenu.add(t.__views.leftTableView),t.__views.rightMenu=Ti.UI.createView({top:"0dp",right:"0dp",width:"250dp",zIndex:"1",backgroundColor:"#FFF",id:"rightMenu"}),t.__views.containerview.add(t.__views.rightMenu),t.__views.rightTableView=Ti.UI.createTableView({id:"rightTableView"}),t.__views.rightMenu.add(t.__views.rightTableView),t.__views.movableview=Ti.UI.createView({left:"0",zIndex:"3",width:Ti.Platform.displayCaps.platformWidth,id:"movableview"}),t.__views.containerview.add(t.__views.movableview),t.__views.shadowview=Ti.UI.createView({shadowColor:"black",shadowOffset:{x:"0",y:"0"},shadowRadius:"2.5",id:"shadowview"}),t.__views.movableview.add(t.__views.shadowview),t.__views.navview=Ti.UI.createView({top:"0dp",left:"0dp",height:"44",backgroundColor:"#E9E9E9",id:"navview"}),t.__views.shadowview.add(t.__views.navview),t.__views.leftButton=Ti.UI.createButton({backgroundImage:"/ds.slideMenu/btn_menu.png",left:"10",top:"10",width:"25",height:"16",style:"none",id:"leftButton"}),t.__views.navview.add(t.__views.leftButton),t.__views.logo=Ti.UI.createImageView({image:"/ds.slideMenu/logo.png",left:"25%",right:"25%",top:"8",height:"22",id:"logo"}),t.__views.navview.add(t.__views.logo),t.__views.viewHeaderLabel=Ti.UI.createLabel({left:"25%",right:"25%",top:"0",height:"44",color:"#808080",textAlign:"center",font:{fontSize:"20",fontWeight:"bold"},text:"Custome Label",visible:"false",id:"viewHeaderLabel"}),t.__views.navview.add(t.__views.viewHeaderLabel),t.__views.filterButton=Ti.UI.createButton({backgroundImage:"/ds.slideMenu/filterButton.png",width:"21",right:"10",top:"10",height:"25",id:"filterButton"}),t.__views.navview.add(t.__views.filterButton),t.__views.rightButton=Ti.UI.createButton({visible:!1,backgroundImage:"none",image:"/ds.slideMenu/ButtonMenu.png",right:"0",top:"0",width:"60",height:"44",style:"none",id:"rightButton"}),t.__views.navview.add(t.__views.rightButton),t.__views.contentview=Ti.UI.createView({left:"0dp",width:Ti.Platform.displayCaps.platformWidth,height:Ti.UI.Fill,top:"44",backgroundColor:"white",id:"contentview"}),t.__views.shadowview.add(t.__views.contentview),i.destroy=function(){},_.extend(t,t.__views);var o=Ti.UI.createAnimation({left:250,curve:Ti.UI.ANIMATION_CURVE_EASE_OUT,duration:150}),l=Ti.UI.createAnimation({left:0,curve:Ti.UI.ANIMATION_CURVE_EASE_OUT,duration:150}),a=Ti.UI.createAnimation({left:-250,curve:Ti.UI.ANIMATION_CURVE_EASE_OUT,duration:150}),n=0,r=!1,s=!1,d=!1,c=!1,u="reset";t.movableview.addEventListener("touchstart",function(e){n=e.x}),t.movableview.addEventListener("touchend",function(){return d?(d=!1,void 0):(t.movableview.left>=150&&r?(u="right",t.leftButton.touchEnabled=!1,t.movableview.animate(o),c=!0):-150>=t.movableview.left&&s?(u="left",t.rightButton.touchEnabled=!1,t.movableview.animate(a),c=!0):(u="reset",t.leftButton.touchEnabled=!0,t.rightButton.touchEnabled=!0,t.movableview.animate(l),c=!1),Ti.App.fireEvent("sliderToggled",{hasSlided:c,direction:u}),r=!1,s=!1,void 0)}),t.movableview.addEventListener("touchmove",function(e){var i=t.movableview.convertPointToView({x:e.x,y:e.y},t.containerview),o=i.x-n;-10>o||o>250||(Ti.API.info("value:"+o),r&&250>=o&&o>=0?t.movableview.left=o:r&&0>o?t.movableview.left=0:r&&o>250&&(t.movableview.left=250),o>5&&!r?(r=!0,Ti.App.fireEvent("sliderToggled",{hasSlided:!1,direction:"right"})):-5>o&&!r&&(s=!0,Ti.App.fireEvent("sliderToggled",{hasSlided:!1,direction:"left"})))}),t.leftButton.addEventListener("touchend",function(){r||s||(d=!0,t.toggleLeftSlider())}),i.toggleLeftSlider=function(){c?(u="reset",t.leftButton.touchEnabled=!0,t.movableview.animate(l),c=!1):(u="right",t.leftButton.touchEnabled=!1,t.movableview.animate(o),c=!0),Ti.App.fireEvent("sliderToggled",{hasSlided:c,direction:u})},i.toggleRightSlider=function(){c?(u="reset",t.rightButton.touchEnabled=!0,t.movableview.animate(l),c=!1):(u="left",t.rightButton.touchEnabled=!1,t.movableview.animate(a),c=!0),Ti.App.fireEvent("sliderToggled",{hasSlided:c,direction:u})},Ti.Gesture.addEventListener("orientationchange",function(){e()}),e(),_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;