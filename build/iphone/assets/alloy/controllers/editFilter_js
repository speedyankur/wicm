function Controller(){function e(){Ti.API.info("going back now"),Alloy.Globals.navgroup.close(o.window,{animated:!0})}function t(){var e=s.get(d.id);d.filterName=o.filterName.value,e.set(d).save(),Ti.API.info("going back now"),Alloy.Globals.navgroup.close(o.window,{animated:!0})}function i(){var e=Titanium.UI.createAlertDialog({title:"Confirm deletion",message:'Are you sure you want to delete this filter named "'+d.filterName+'" ?',buttonNames:["Yes","No"],cancel:1});e.show(),e.addEventListener("click",function(e){if(e.cancel!==e.index&&!0!==e.cancel){var t=s.get(d.id);t.destroy(),Alloy.Globals.navgroup.close(o.window,{animated:!0})}})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="editFilter",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var o=this,r={},a={};o.__views.window=Ti.UI.createWindow({id:"window",backgroundColor:"#FFFFFF",modal:"false",navBarHidden:"true"}),o.__views.window&&o.addTopLevelView(o.__views.window),o.__views.navview=Ti.UI.createView({top:"0",left:"0",height:"44",backgroundColor:"#E9E9E9",zIndex:"5",id:"navview"}),o.__views.window.add(o.__views.navview),o.__views.leftButton=Ti.UI.createButton({color:"#fff",font:{fontSize:"15",fontFamily:"Helvetica Neue"},borderRadius:"5",backgroundImage:"/images/btn_back.png",backgroundSelectedImage:"none",height:"14",left:"10",top:"15",width:"30",zIndex:"10",id:"leftButton"}),o.__views.navview.add(o.__views.leftButton),e?o.__views.leftButton.addEventListener("click",e):a["$.__views.leftButton!click!goBack"]=!0,o.__views.viewHeaderLabel=Ti.UI.createLabel({left:"10%",right:"10%",top:"0",height:"44",color:"#808080",textAlign:"center",font:{fontSize:"20",fontWeight:"bold"},text:"Filters",id:"viewHeaderLabel"}),o.__views.navview.add(o.__views.viewHeaderLabel),o.__views.__alloyId20=Ti.UI.createView({top:"44",bottom:"0",id:"__alloyId20"}),o.__views.window.add(o.__views.__alloyId20),o.__views.__alloyId21=Ti.UI.createView({height:"50",top:"0",backgroundColor:"#CCDDE4",left:"0",right:"0",id:"__alloyId21"}),o.__views.__alloyId20.add(o.__views.__alloyId21),o.__views.filterName=Ti.UI.createTextField({id:"filterName",value:"All Time Womens Fashion",clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,autocorrect:"false",paddingLeft:"20",left:"10",height:"30",right:"40",borderRadius:"5",backgroundColor:"#DBE7EC"}),o.__views.__alloyId21.add(o.__views.filterName),o.__views.__alloyId22=Ti.UI.createImageView({right:"10",image:"/images/icon_del.png",id:"__alloyId22"}),o.__views.__alloyId21.add(o.__views.__alloyId22),i?o.__views.__alloyId22.addEventListener("click",i):a["$.__views.__alloyId22!click!deleteFilter"]=!0,o.__views.tableView=Ti.UI.createTableView({id:"tableView",top:"50",bottom:"50",separatorColor:"#fff"}),o.__views.__alloyId20.add(o.__views.tableView),o.__views.__alloyId23=Ti.UI.createView({height:"50",bottom:"0",backgroundColor:"#E7E7E7",left:"0",right:"0",id:"__alloyId23"}),o.__views.__alloyId20.add(o.__views.__alloyId23),o.__views.next=Ti.UI.createButton({color:"#fff",font:{fontSize:"15",fontFamily:"Helvetica Neue"},borderRadius:"5",backgroundImage:"none",backgroundSelectedImage:"none",height:"40",top:"5",id:"next",backgroundColor:"#30D1F4",backgroundSelectedColor:"#B8D9E5",title:"Save",width:"150"}),o.__views.__alloyId23.add(o.__views.next),t?o.__views.next.addEventListener("click",t):a["$.__views.next!click!save"]=!0,r.destroy=function(){},_.extend(o,o.__views);var n=Alloy.Globals.isiOS7Plus();o.window.top=n?20:0,Ti.UI.setBackgroundColor("#E9E9E9");var l=[],s=Alloy.Collections.filters,d=arguments[0]||{};Ti.API.info(JSON.stringify(d)),d&&(o.filterName.value=d.filterName);var c=[{key:"animals",value:"Animals"},{key:"architecture",value:"Architecture"},{key:"automotive",value:"Automotive"},{key:"design",value:"Design"},{key:"gadgets",value:"Gadgets"},{key:"gaming",value:"Gaming Literature"},{key:"men",value:"Men’s Fashion"},{key:"military",value:"Military & Weapons"},{key:"music",value:"Music, Film, & Entertainment Nautical"},{key:"people",value:"People"},{key:"photography",value:"Photography"},{key:"places",value:"Places"},{key:"science",value:"Science & Nature"},{key:"science",value:"Science & Nature"},{key:"sports",value:"Sports & Outdoors"},{key:"tattoos",value:"Tattoos"},{key:"technology",value:"Technology"},{key:"toys",value:"Toys"},{key:"weddings",value:"Weddings"},{key:"women",value:"Women’s Fashion"}],u=[{key:"following",value:"Following"},{key:"followers",value:"Followers"},{key:"everyone",value:"Everyone"}],h=[{key:"last7hours",value:"Last 24 Hours"},{key:"last7days",value:"Last 7 Days"},{key:"last30days",value:"Last 30 Days"},{key:"allTime",value:"All Time"}],w=Alloy.Globals.createTableSectionHeaderViewForAccordian({text:"People",backgroundColor:"#B8D9E5",backgroundImage:"/images/icon_people.png"});w.collapse=!1;for(var v=0;u.length>v;v++)w.add(Alloy.createController("accordianRows",{title:u[v].value,key:u[v].key,selected:d[c[v].key]?!0:!1,backgroundColor:d[u[v].key]?Alloy.Globals.activeFilterRowColor:Alloy.Globals.normalFilterRowColor}).getView());l.push(w);var p=Alloy.Globals.createTableSectionHeaderViewForAccordian({text:"Time",backgroundColor:"#B8D9E5",backgroundImage:"/images/icon_time.png"});p.collapse=!1;for(var v=0;h.length>v;v++)p.add(Alloy.createController("accordianRows",{title:h[v].value,key:h[v].key,selected:d[c[v].key]?!0:!1,backgroundColor:d[h[v].key]?Alloy.Globals.activeFilterRowColor:Alloy.Globals.normalFilterRowColor}).getView());l.push(p);var g=Alloy.Globals.createTableSectionHeaderViewForAccordian({text:"Tags",backgroundColor:"#B8D9E5",backgroundImage:"/images/icon_tags.png"});g.collapse=!1;for(var v=0;c.length>v;v++)g.add(Alloy.createController("accordianRows",{title:c[v].value,key:c[v].key,selected:d[c[v].key]?!0:!1,backgroundColor:d[c[v].key]?Alloy.Globals.activeFilterRowColor:Alloy.Globals.normalFilterRowColor}).getView());l.push(g),o.tableView.setData(l),o.tableView.addEventListener("click",function(e){e.row.selected?(e.row.setBackgroundColor(Alloy.Globals.normalFilterRowColor),e.row.selected=!1,d[e.row.key]=!1):(e.row.setBackgroundColor(Alloy.Globals.activeFilterRowColor),e.row.selected=!0,d[e.row.key]=!0)}),a["$.__views.leftButton!click!goBack"]&&o.__views.leftButton.addEventListener("click",e),a["$.__views.__alloyId22!click!deleteFilter"]&&o.__views.__alloyId22.addEventListener("click",i),a["$.__views.next!click!save"]&&o.__views.next.addEventListener("click",t),_.extend(o,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;